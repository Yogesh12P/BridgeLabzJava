package com.BridgeLabz.controller;

import java.io.InputStream;
import java.util.Scanner;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.BridgeLabz.Dao.UserDao;
import com.BridgeLabz.model.User;

public class RegisterUserController {

	public static void main(String[] args) 
	{
		boolean check = true;
		Scanner sc = new Scanner(System.in);
		
		while (check) 
		{
		
			System.out.println("Register new user Menu");
			System.out.println("1.Register New User");
			System.out.println("2.Show All User");
			System.out.println("3.show user by id");
			System.out.println("4.Delete User");
			
			System.out.println("Enter your choise:");
			int ch = sc.nextInt();
			RegisterUserController.selectOption(ch);
			
		
		}
		
		
	}
	
	public static void selectOption(int ch)
	{
		ApplicationContext ctx = new ClassPathXmlApplicationContext("SpringConf.xml");
		UserDao dao = (UserDao) ctx.getBean("userDao");
		Scanner sc = new Scanner(System.in);
		User user = new User();
		switch (ch) {
					
		case 1:
				
			System.out.println("Enter name:");
			String name = sc.nextLine();
			System.out.println("Enter Email:");
			String email = sc.nextLine();
			System.out.println("Enter password:");
			String password = sc.nextLine();
			System.out.println("Enter Mobile No:");
			double mobileNo = sc.nextDouble();
			
			user.setName(name);
			user.setEmail(email);
			user.setPassword(password);
			user.setMobileNo(mobileNo);
			
			if(dao.insertUser(user))
			{
				System.out.println("user register succefully...!!");
			}
			else
			{
				System.out.println("user not registered..!");
			}
			
			break;
		case 2:
			
			break;
		case 3:
			
			break;
		case 4:
			
			break;

		default:
			break;
		}
	}

}
